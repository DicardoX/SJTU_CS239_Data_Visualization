!function(n,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("lodash"),require("lodash/isUndefined"),require("lodash/isArray"),require("lodash/isObject"),require("lodash/isBoolean"),require("lodash/get"));else if("function"==typeof define&&define.amd)define(["lodash","lodash/isUndefined","lodash/isArray","lodash/isObject","lodash/isBoolean","lodash/get"],t);else{var e="object"==typeof exports?t(require("lodash"),require("lodash/isUndefined"),require("lodash/isArray"),require("lodash/isObject"),require("lodash/isBoolean"),require("lodash/get")):t(n._,n["lodash/isUndefined"],n["lodash/isArray"],n["lodash/isObject"],n["lodash/isBoolean"],n["lodash/get"]);for(var r in e)("object"==typeof exports?exports:n)[r]=e[r]}}("undefined"!=typeof self?self:this,(function(n,t,e,r,o,i){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=10)}([function(t,e){t.exports=n},,function(n,t,e){"use strict";function r(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if(!(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function i(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.exports={getKeyChain:function(n,t){return Array.isArray(t)?n.concat.apply(n,i(t)):n.concat(t)},isPureObject:function(n){return n instanceof Object&&!Array.isArray(n)},deepCopy:function n(t){if("object"!==o(t)||null===t)return t;var e,i=t.constructor;if(t[Symbol.iterator]instanceof Function){var a=t.length;switch(e=new i(a),i){case Array:for(var u=0;u<a;u++)e[u]=n(t[u]);break;case Set:var c=!0,l=!1,f=void 0;try{for(var s,h=t[Symbol.iterator]();!(c=(s=h.next()).done);c=!0){var g=s.value;e.add(n(g))}}catch(n){l=!0,f=n}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}break;case Map:var p=!0,d=!1,y=void 0;try{for(var v,m=t[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var b=r(v.value,2),w=b[0],M=b[1];e.set(w,n(M))}}catch(n){d=!0,y=n}finally{try{p||null==m.return||m.return()}finally{if(d)throw y}}break;default:for(var x=0;x<a;x++)e[x]=t[x]}return e}if(i!==Object)return t;for(var O in e={},t)t.hasOwnProperty(O)&&(e[O]=n(t[O]));return e},getAbsolutePath:function(n,t){if("absolute"===("."===n[0]?"relative":"absolute"))return n.split(".");for(var e=i(t);"."===n[0];)e.pop(),n=n.slice(1);return e=e.concat(n.split("."))}}},function(n,t,e){"use strict";function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a=e(0),u=a.isString,c=a.isNumber,l=a.isArray,f=e(2).isPureObject,s=e(4),h=s.CONTROL_TYPES,g=s.getSuites,p=h.innerSuite,d=function(n){if(!n)return"";var t=n.children,e=n.showAlias,r="show";return(n.enableHide||t)&&e&&(r=e),r},y=function n(t){var e=t.config,a=t.keyChain,c=t.map,l=t.parentValuePath,f=function(n){var t=n.config,e=n.keyChain,r=n.parentValuePath,o=void 0===r?[]:r,a=e[e.length-1],c=u(t.valuePath)?t.valuePath:u(t.dataKey)?t.dataKey:"";return c?c.split("."):[].concat(i(o),[a])}({config:e,keyChain:a,parentValuePath:l});c[a.join(".")]=f;var s=e.type,h=e.children;if(s=u(s)?s.toLowerCase():"",h||p.includes(s)){p.includes(s)&&(h=g(e).children);var y=d(e);h[y]||(h=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){o(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}(o({},y,{}),h)),Object.keys(h).forEach((function(t){n({config:h[t],keyChain:[].concat(i(a),[t]),map:c,parentValuePath:f})}))}};n.exports={getValuePathMap:function(n){var t={};return f(n)&&Object.keys(n).forEach((function(e){y({config:n[e],keyChain:[e],map:t})})),t},getValuePath:function(n){var t=n.keyChain,e=n.valuePathMap;if(l(t)){var r,o=t.findIndex((function(n){return c(+n)&&!isNaN(+n)}));if(o>0){var a=t.slice(0,o),u=t.slice(o,t.length);!(r=e[a.join(".")])&&(r=a),r=[].concat(i(r),i(u))}else!(r=e[t.join(".")])&&(r=i(t));return r}},getShowKey:d}},function(n,t,e){"use strict";function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function o(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){i(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var a=e(0).merge,u={font:{fontFamily:{caption:"字体",type:"select",options:[{value:"Microsoft Yahei",label:"微软雅黑"},{value:"SimSun",label:"宋体"},{value:"SimHei",label:"黑体"},{value:"LiSu",label:"隶书"},{value:"fantasy",label:"fantasy"},{value:"cursive",label:"cursive"},{value:"YouYuan",label:"幼圆"}],col:12},fontWeight:{caption:"粗细",type:"select",options:[{value:"normal",label:"normal"},{value:"bold",label:"bold"},{value:"bolder",label:"bolder"},{value:"lighter",label:"lighter"},{value:100,label:100},{value:200,label:200},{value:300,label:300},{value:400,label:400},{value:500,label:500},{value:600,label:600},{value:700,label:700},{value:800,label:800},{value:900,label:900}],col:12},fontSize:{caption:"大小",type:"stepper",suffix:"px",step:1,min:0,max:1e3,col:12},color:{caption:"颜色",type:"fill",col:12}},line:{width:{caption:"粗细",type:"stepper",suffix:"px",step:1,min:0,col:12},curve:{type:"iconRadio",className:"radio-custom",caption:"曲率",options:[{value:"smooth",src:"smooth-line",label:"平滑曲线"},{value:"polyline",src:"poly-line",label:"折线"}],col:12},style:{caption:"线条",type:"select",options:[{label:"实线",value:"solid"},{label:"点线",value:"dotted"},{label:"虚线",value:"dashed"}],col:12},color:{caption:"颜色",type:"fill",col:12}},margin:{top:{caption:"顶部",type:"stepper",suffix:"px",step:1,min:0,col:12},bottom:{caption:"底部",type:"stepper",suffix:"px",step:1,min:0,col:12},left:{caption:"左侧",type:"stepper",suffix:"px",step:1,min:0,col:12},right:{caption:"右侧",type:"stepper",suffix:"px",step:1,min:0,col:12}}},c={font:{fontFamily:"Microsoft Yahei",fontWeight:"normal",color:"#fff",fontSize:12},line:{width:1,curve:"polyline",style:"solid",color:"#fff"},margin:{top:10,bottom:10,left:10,right:10}};n.exports={CONTROL_TYPES:{field:["text","select","switch"],suite:["suite","font","margin","line","numbers","iconselects"],innerSuite:["font","margin","line"],collection:["group","tabs","menu"]},SUITES_CHILDREN:u,getSuites:function(n){var t=n.type;return a({},{default:o({},c[t]),children:u[t]},n)}}},function(n,t,e){"use strict";function r(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=e(6),i=e(0),a=i.isPlainObject,u=i.isNaN,c=i.isNil,l=o.scaleLinear,f=function(n){return+n},s=function(n){return Array.isArray(n)?n.map(f).filter((function(n){return Number.isFinite(n)})):f(n)};n.exports={commonOrdinalScale:function(n){var t=n.config,e=void 0===t?{}:t,r=e.custom,i=void 0!==r&&r,a=e.range,u=void 0===a?[]:a,c=e.domain,l=void 0===c?[]:c,f=e.excepted,s=void 0===f?"":f;if(i){var h=u.map((function(n,t){return l[t]||""})),g=h.map((function(n,t){return!!n&&t+1})).filter((function(n){return!!n})),p=h.map((function(n,t){return!n&&t+1})).filter((function(n){return!!n})),d=g.map((function(n){return h[n-1]})),y=g.map((function(n){return u[n-1]})),v=p.map((function(n){return u[n-1]})).filter((function(n){return!!n})),m=o.scaleOrdinal().range(y).domain(d).unknown("__datav_unknown"),b=o.scaleOrdinal().range(v);return v.length||b.unknown(s),function(n){var t=n,e=m(t);return"__datav_unknown"!==e?e:b(t)}}var w=o.scaleOrdinal().range(u);return function(n){return w(n)}},commonLinearScale:function(n){var t=n.config,e=n.data,o=void 0===e?[]:e,i=n.field,a=void 0===i?"":i,u=t.custom,c=void 0!==u&&u,f=t.range,h=void 0===f?[]:f,g=t.domain,p=void 0===g?[]:g,d=[h[0]||0,h[h.length-1]||0];if(c){var y=[p[0]||0,p[p.length-1]||0];return l().range(d).domain(y).clamp(!0)}var v=a?o.map((function(n){return n[a]})):o,m=s(v),b=Math.min.apply(Math,r(m))||0,w=Math.max.apply(Math,r(m))||0;return l().range(d).domain([b,w]).clamp(!0)},formatNumber:s,getFlatData:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a(n)?n[t]:n},isAbnormal:function(n){return c(n)||u(n)}}},function(n,t,e){"use strict";e.r(t);var r=function(n,t,e){n=+n,t=+t,e=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+e;for(var r=-1,o=0|Math.max(0,Math.ceil((t-n)/e)),i=new Array(o);++r<o;)i[r]=n+r*e;return i};function o(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function i(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const a=Symbol("implicit");function u(){var n=new Map,t=[],e=[],r=a;function i(o){var i=o+"",u=n.get(i);if(!u){if(r!==a)return r;n.set(i,u=t.push(o))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new Map;for(const r of e){const e=r+"";n.has(e)||n.set(e,t.push(r))}return i},i.range=function(n){return arguments.length?(e=Array.from(n),i):e.slice()},i.unknown=function(n){return arguments.length?(r=n,i):r},i.copy=function(){return u(t,e).unknown(r)},o.apply(i,arguments),i}function c(){var n,t,e=u().unknown(void 0),i=e.domain,a=e.range,l=0,f=1,s=!1,h=0,g=0,p=.5;function d(){var e=i().length,o=f<l,u=o?f:l,c=o?l:f;n=(c-u)/Math.max(1,e-h+2*g),s&&(n=Math.floor(n)),u+=(c-u-n*(e-h))*p,t=n*(1-h),s&&(u=Math.round(u),t=Math.round(t));var d=r(e).map((function(t){return u+n*t}));return a(o?d.reverse():d)}return delete e.unknown,e.domain=function(n){return arguments.length?(i(n),d()):i()},e.range=function(n){return arguments.length?([l,f]=n,l=+l,f=+f,d()):[l,f]},e.rangeRound=function(n){return[l,f]=n,l=+l,f=+f,s=!0,d()},e.bandwidth=function(){return t},e.step=function(){return n},e.round=function(n){return arguments.length?(s=!!n,d()):s},e.padding=function(n){return arguments.length?(h=Math.min(1,g=+n),d()):h},e.paddingInner=function(n){return arguments.length?(h=Math.min(1,n),d()):h},e.paddingOuter=function(n){return arguments.length?(g=+n,d()):g},e.align=function(n){return arguments.length?(p=Math.max(0,Math.min(1,n)),d()):p},e.copy=function(){return c(i(),[l,f]).round(s).paddingInner(h).paddingOuter(g).align(p)},o.apply(d(),arguments)}function l(){return function n(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n(e())},t}(c.apply(null,arguments).paddingInner(1))}var f=Math.sqrt(50),s=Math.sqrt(10),h=Math.sqrt(2),g=function(n,t,e){var r,o,i,a,u=-1;if(e=+e,(n=+n)===(t=+t)&&e>0)return[n];if((r=t<n)&&(o=n,n=t,t=o),0===(a=p(n,t,e))||!isFinite(a))return[];if(a>0)for(n=Math.ceil(n/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-n+1));++u<o;)i[u]=(n+u)*a;else for(n=Math.floor(n*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(n-t+1));++u<o;)i[u]=(n-u)/a;return r&&i.reverse(),i};function p(n,t,e){var r=(t-n)/Math.max(0,e),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=f?10:i>=s?5:i>=h?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=f?10:i>=s?5:i>=h?2:1)}function d(n,t,e){var r=Math.abs(t-n)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=f?o*=10:i>=s?o*=5:i>=h&&(o*=2),t<n?-o:o}var y=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},v=function(n){var t;return 1===n.length&&(t=n,n=function(n,e){return y(t(n),e)}),{left:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}};var m=v(y),b=m.right,w=(m.left,b),M=function(n,t,e){n.prototype=t.prototype=e,e.constructor=n};function x(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function O(){}var S="\\s*([+-]?\\d+)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k=/^#([0-9a-f]{3,8})$/,T=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),C=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),P=new RegExp("^rgba\\("+[S,S,S,j]+"\\)$"),D=new RegExp("^rgba\\("+[A,A,A,j]+"\\)$"),N=new RegExp("^hsl\\("+[j,A,A]+"\\)$"),U=new RegExp("^hsla\\("+[j,A,A,j]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function F(){return this.rgb().formatHex()}function L(){return this.rgb().formatRgb()}function V(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=k.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?I(t):3===e?new q(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Y(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Y(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=T.exec(n))?new q(t[1],t[2],t[3],1):(t=C.exec(n))?new q(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=P.exec(n))?Y(t[1],t[2],t[3],t[4]):(t=D.exec(n))?Y(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=N.exec(n))?z(t[1],t[2]/100,t[3]/100,1):(t=U.exec(n))?z(t[1],t[2]/100,t[3]/100,t[4]):E.hasOwnProperty(n)?I(E[n]):"transparent"===n?new q(NaN,NaN,NaN,0):null}function I(n){return new q(n>>16&255,n>>8&255,255&n,1)}function Y(n,t,e,r){return r<=0&&(n=t=e=NaN),new q(n,t,e,r)}function H(n,t,e,r){return 1===arguments.length?((o=n)instanceof O||(o=V(o)),o?new q((o=o.rgb()).r,o.g,o.b,o.opacity):new q):new q(n,t,e,null==r?1:r);var o}function q(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}function $(){return"#"+_(this.r)+_(this.g)+_(this.b)}function R(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function _(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function z(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new B(n,t,e,r)}function W(n){if(n instanceof B)return new B(n.h,n.s,n.l,n.opacity);if(n instanceof O||(n=V(n)),!n)return new B;if(n instanceof B)return n;var t=(n=n.rgb()).r/255,e=n.g/255,r=n.b/255,o=Math.min(t,e,r),i=Math.max(t,e,r),a=NaN,u=i-o,c=(i+o)/2;return u?(a=t===i?(e-r)/u+6*(e<r):e===i?(r-t)/u+2:(t-e)/u+4,u/=c<.5?i+o:2-i-o,a*=60):u=c>0&&c<1?0:a,new B(a,u,c,n.opacity)}function B(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function Z(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function K(n,t,e,r,o){var i=n*n,a=i*n;return((1-3*n+3*i-a)*t+(4-6*i+3*a)*e+(1+3*n+3*i-3*a)*r+a*o)/6}M(O,V,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:F,formatHex:F,formatHsl:function(){return W(this).formatHsl()},formatRgb:L,toString:L}),M(q,H,x(O,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new q(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new q(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$,formatHex:$,formatRgb:R,toString:R})),M(B,(function(n,t,e,r){return 1===arguments.length?W(n):new B(n,t,e,null==r?1:r)}),x(O,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new B(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new B(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,o=2*e-r;return new q(Z(n>=240?n-240:n+120,o,r),Z(n,o,r),Z(n<120?n+240:n-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));var G=n=>()=>n;function Q(n,t){return function(e){return n+e*t}}function X(n){return 1==(n=+n)?J:function(t,e){return e-t?function(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}(t,e,n):G(isNaN(t)?e:t)}}function J(n,t){var e=t-n;return e?Q(n,e):G(isNaN(n)?t:n)}var nn=function n(t){var e=X(t);function r(n,t){var r=e((n=H(n)).r,(t=H(t)).r),o=e(n.g,t.g),i=e(n.b,t.b),a=J(n.opacity,t.opacity);return function(t){return n.r=r(t),n.g=o(t),n.b=i(t),n.opacity=a(t),n+""}}return r.gamma=n,r}(1);function tn(n){return function(t){var e,r,o=t.length,i=new Array(o),a=new Array(o),u=new Array(o);for(e=0;e<o;++e)r=H(t[e]),i[e]=r.r||0,a[e]=r.g||0,u[e]=r.b||0;return i=n(i),a=n(a),u=n(u),r.opacity=1,function(n){return r.r=i(n),r.g=a(n),r.b=u(n),r+""}}}tn((function(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),o=n[r],i=n[r+1],a=r>0?n[r-1]:2*o-i,u=r<t-1?n[r+2]:2*i-o;return K((e-r/t)*t,a,o,i,u)}})),tn((function(n){var t=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*t),o=n[(r+t-1)%t],i=n[r%t],a=n[(r+1)%t],u=n[(r+2)%t];return K((e-r/t)*t,o,i,a,u)}}));var en=function(n,t){t||(t=[]);var e,r=n?Math.min(t.length,n.length):0,o=t.slice();return function(i){for(e=0;e<r;++e)o[e]=n[e]*(1-i)+t[e]*i;return o}};function rn(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function on(n,t){var e,r=t?t.length:0,o=n?Math.min(r,n.length):0,i=new Array(o),a=new Array(r);for(e=0;e<o;++e)i[e]=hn(n[e],t[e]);for(;e<r;++e)a[e]=t[e];return function(n){for(e=0;e<o;++e)a[e]=i[e](n);return a}}var an=function(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}},un=function(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}},cn=function(n,t){var e,r={},o={};for(e in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)e in n?r[e]=hn(n[e],t[e]):o[e]=t[e];return function(n){for(e in r)o[e]=r[e](n);return o}},ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(ln.source,"g");var sn=function(n,t){var e,r,o,i=ln.lastIndex=fn.lastIndex=0,a=-1,u=[],c=[];for(n+="",t+="";(e=ln.exec(n))&&(r=fn.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:un(e,r)})),i=fn.lastIndex;return i<t.length&&(o=t.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?c[0]?function(n){return function(t){return n(t)+""}}(c[0].x):function(n){return function(){return n}}(t):(t=c.length,function(n){for(var e,r=0;r<t;++r)u[(e=c[r]).i]=e.x(n);return u.join("")})},hn=function(n,t){var e,r=typeof t;return null==t||"boolean"===r?G(t):("number"===r?un:"string"===r?(e=V(t))?(t=e,nn):sn:t instanceof V?nn:t instanceof Date?an:rn(t)?en:Array.isArray(t)?on:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?cn:un)(n,t)},gn=function(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}};function pn(n){return+n}var dn=[0,1];function yn(n){return n}function vn(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:(e=isNaN(t)?NaN:.5,function(){return e});var e}function mn(n,t,e){var r=n[0],o=n[1],i=t[0],a=t[1];return o<r?(r=vn(o,r),i=e(a,i)):(r=vn(r,o),i=e(i,a)),function(n){return i(r(n))}}function bn(n,t,e){var r=Math.min(n.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=vn(n[a],n[a+1]),i[a]=e(t[a],t[a+1]);return function(t){var e=w(n,t,1,r)-1;return i[e](o[e](t))}}function wn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Mn(){var n,t,e,r,o,i,a=dn,u=dn,c=hn,l=yn;function f(){var n,t,e,c=Math.min(a.length,u.length);return l!==yn&&(n=a[0],t=a[c-1],n>t&&(e=n,n=t,t=e),l=function(e){return Math.max(n,Math.min(t,e))}),r=c>2?bn:mn,o=i=null,s}function s(t){return isNaN(t=+t)?e:(o||(o=r(a.map(n),u,c)))(n(l(t)))}return s.invert=function(e){return l(t((i||(i=r(u,a.map(n),un)))(e)))},s.domain=function(n){return arguments.length?(a=Array.from(n,pn),f()):a.slice()},s.range=function(n){return arguments.length?(u=Array.from(n),f()):u.slice()},s.rangeRound=function(n){return u=Array.from(n),c=gn,f()},s.clamp=function(n){return arguments.length?(l=!!n||yn,f()):l!==yn},s.interpolate=function(n){return arguments.length?(c=n,f()):c},s.unknown=function(n){return arguments.length?(e=n,s):e},function(e,r){return n=e,t=r,f()}}function xn(){return Mn()(yn,yn)}var On=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sn(n){if(!(t=On.exec(n)))throw new Error("invalid format: "+n);var t;return new jn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function jn(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}Sn.prototype=jn.prototype,jn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};function An(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}var kn,Tn,Cn,Pn,Dn=function(n){return(n=An(Math.abs(n)))?n[1]:NaN},Nn=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Dn(t)/3)))-Dn(Math.abs(n)))},Un=function(n){n:for(var t,e=n.length,r=1,o=-1;r<e;++r)switch(n[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+n[r])break n;o>0&&(o=0)}return o>0?n.slice(0,o)+n.slice(t+1):n},En=function(n,t){var e=An(n,t);if(!e)return n+"";var r=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")},Fn={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>En(100*n,t),r:En,s:function(n,t){var e=An(n,t);if(!e)return n+"";var r=e[0],o=e[1],i=o-(kn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+An(n,Math.max(0,t+i-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)},Ln=function(n){return n},Vn=Array.prototype.map,In=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Tn=function(n){var t,e,r=void 0===n.grouping||void 0===n.thousands?Ln:(t=Vn.call(n.grouping,Number),e=n.thousands+"",function(n,r){for(var o=n.length,i=[],a=0,u=t[0],c=0;o>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),i.push(n.substring(o-=u,o+u)),!((c+=u+1)>r));)u=t[a=(a+1)%t.length];return i.reverse().join(e)}),o=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",a=void 0===n.decimal?".":n.decimal+"",u=void 0===n.numerals?Ln:function(n){return function(t){return t.replace(/[0-9]/g,(function(t){return n[+t]}))}}(Vn.call(n.numerals,String)),c=void 0===n.percent?"%":n.percent+"",l=void 0===n.minus?"−":n.minus+"",f=void 0===n.nan?"NaN":n.nan+"";function s(n){var t=(n=Sn(n)).fill,e=n.align,s=n.sign,h=n.symbol,g=n.zero,p=n.width,d=n.comma,y=n.precision,v=n.trim,m=n.type;"n"===m?(d=!0,m="g"):Fn[m]||(void 0===y&&(y=12),v=!0,m="g"),(g||"0"===t&&"="===e)&&(g=!0,t="0",e="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?i:/[%p]/.test(m)?c:"",M=Fn[m],x=/[defgprs%]/.test(m);function O(n){var o,i,c,h=b,O=w;if("c"===m)O=M(n)+O,n="";else{var S=(n=+n)<0||1/n<0;if(n=isNaN(n)?f:M(Math.abs(n),y),v&&(n=Un(n)),S&&0==+n&&"+"!==s&&(S=!1),h=(S?"("===s?s:l:"-"===s||"("===s?"":s)+h,O=("s"===m?In[8+kn/3]:"")+O+(S&&"("===s?")":""),x)for(o=-1,i=n.length;++o<i;)if(48>(c=n.charCodeAt(o))||c>57){O=(46===c?a+n.slice(o+1):n.slice(o))+O,n=n.slice(0,o);break}}d&&!g&&(n=r(n,1/0));var j=h.length+n.length+O.length,A=j<p?new Array(p-j+1).join(t):"";switch(d&&g&&(n=r(A+n,A.length?p-O.length:1/0),A=""),e){case"<":n=h+n+O+A;break;case"=":n=h+A+n+O;break;case"^":n=A.slice(0,j=A.length>>1)+h+n+O+A.slice(j);break;default:n=A+h+n+O}return u(n)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),O.toString=function(){return n+""},O}return{format:s,formatPrefix:function(n,t){var e=s(((n=Sn(n)).type="f",n)),r=3*Math.max(-8,Math.min(8,Math.floor(Dn(t)/3))),o=Math.pow(10,-r),i=In[8+r/3];return function(n){return e(o*n)+i}}}}({thousands:",",grouping:[3],currency:["$",""]}),Cn=Tn.format,Pn=Tn.formatPrefix;var Yn=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Dn(t)-Dn(n))+1},Hn=function(n){return Math.max(0,-Dn(Math.abs(n)))};function qn(n,t,e,r){var o,i=d(n,t,e);switch((r=Sn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(n),Math.abs(t));return null!=r.precision||isNaN(o=Nn(i,a))||(r.precision=o),Pn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=Yn(i,Math.max(Math.abs(n),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Hn(i))||(r.precision=o-2*("%"===r.type))}return Cn(r)}function $n(n){var t=n.domain;return n.ticks=function(n){var e=t();return g(e[0],e[e.length-1],null==n?10:n)},n.tickFormat=function(n,e){var r=t();return qn(r[0],r[r.length-1],null==n?10:n,e)},n.nice=function(e){null==e&&(e=10);var r,o,i=t(),a=0,u=i.length-1,c=i[a],l=i[u],f=10;for(l<c&&(o=c,c=l,l=o,o=a,a=u,u=o);f-- >0;){if((o=p(c,l,e))===r)return i[a]=c,i[u]=l,t(i);if(o>0)c=Math.floor(c/o)*o,l=Math.ceil(l/o)*o;else{if(!(o<0))break;c=Math.ceil(c*o)/o,l=Math.floor(l*o)/o}r=o}return n},n}function Rn(){var n=xn();return n.copy=function(){return wn(n,Rn())},o.apply(n,arguments),$n(n)}function _n(n){var t;function e(n){return isNaN(n=+n)?t:n}return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=Array.from(t,pn),e):n.slice()},e.unknown=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return _n(n).unknown(t)},n=arguments.length?Array.from(n,pn):[0,1],$n(e)}function zn(n,t){var e,r=0,o=(n=n.slice()).length-1,i=n[r],a=n[o];return a<i&&(e=r,r=o,o=e,e=i,i=a,a=e),n[r]=t.floor(i),n[o]=t.ceil(a),n}function Wn(n){return Math.log(n)}function Bn(n){return Math.exp(n)}function Zn(n){return-Math.log(-n)}function Kn(n){return-Math.exp(-n)}function Gn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Qn(n){return function(t){return-n(-t)}}function Xn(n){var t,e,r=n(Wn,Bn),o=r.domain,i=10;function a(){return t=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(i),e=function(n){return 10===n?Gn:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(i),o()[0]<0?(t=Qn(t),e=Qn(e),n(Zn,Kn)):n(Wn,Bn),r}return r.base=function(n){return arguments.length?(i=+n,a()):i},r.domain=function(n){return arguments.length?(o(n),a()):o()},r.ticks=function(n){var r,a=o(),u=a[0],c=a[a.length-1];(r=c<u)&&(h=u,u=c,c=h);var l,f,s,h=t(u),p=t(c),d=null==n?10:+n,y=[];if(!(i%1)&&p-h<d){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(f=1,l=e(h);f<i;++f)if(!((s=l*f)<u)){if(s>c)break;y.push(s)}}else for(;h<=p;++h)for(f=i-1,l=e(h);f>=1;--f)if(!((s=l*f)<u)){if(s>c)break;y.push(s)}2*y.length<d&&(y=g(u,c,d))}else y=g(h,p,Math.min(p-h,d)).map(e);return r?y.reverse():y},r.tickFormat=function(n,o){if(null==o&&(o=10===i?".0e":","),"function"!=typeof o&&(o=Cn(o)),n===1/0)return o;null==n&&(n=10);var a=Math.max(1,i*n/r.ticks().length);return function(n){var r=n/e(Math.round(t(n)));return r*i<i-.5&&(r*=i),r<=a?o(n):""}},r.nice=function(){return o(zn(o(),{floor:function(n){return e(Math.floor(t(n)))},ceil:function(n){return e(Math.ceil(t(n)))}}))},r}function Jn(){var n=Xn(Mn()).domain([1,10]);return n.copy=function(){return wn(n,Jn()).base(n.base())},o.apply(n,arguments),n}function nt(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function tt(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function et(n){var t=1,e=n(nt(t),tt(t));return e.constant=function(e){return arguments.length?n(nt(t=+e),tt(t)):t},$n(e)}function rt(){var n=et(Mn());return n.copy=function(){return wn(n,rt()).constant(n.constant())},o.apply(n,arguments)}function ot(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function it(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function at(n){return n<0?-n*n:n*n}function ut(n){var t=n(yn,yn),e=1;function r(){return 1===e?n(yn,yn):.5===e?n(it,at):n(ot(e),ot(1/e))}return t.exponent=function(n){return arguments.length?(e=+n,r()):e},$n(t)}function ct(){var n=ut(Mn());return n.copy=function(){return wn(n,ct()).exponent(n.exponent())},o.apply(n,arguments),n}function lt(){return ct.apply(null,arguments).exponent(.5)}function ft(n){return Math.sign(n)*n*n}function st(){var n,t=xn(),e=[0,1],r=!1;function i(e){var o=function(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}(t(e));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(n){return t.invert(ft(n))},i.domain=function(n){return arguments.length?(t.domain(n),i):t.domain()},i.range=function(n){return arguments.length?(t.range((e=Array.from(n,pn)).map(ft)),i):e.slice()},i.rangeRound=function(n){return i.range(n).round(!0)},i.round=function(n){return arguments.length?(r=!!n,i):r},i.clamp=function(n){return arguments.length?(t.clamp(n),i):t.clamp()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return st(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},o.apply(i,arguments),$n(i)}function ht(n,t){let e;if(void 0===t)for(const t of n)null!=t&&(e<t||void 0===e&&t>=t)&&(e=t);else{let r=-1;for(let o of n)null!=(o=t(o,++r,n))&&(e<o||void 0===e&&o>=o)&&(e=o)}return e}function gt(n,t){let e;if(void 0===t)for(const t of n)null!=t&&(e>t||void 0===e&&t>=t)&&(e=t);else{let r=-1;for(let o of n)null!=(o=t(o,++r,n))&&(e>o||void 0===e&&o>=o)&&(e=o)}return e}function pt(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}var dt=function(n){return null===n?NaN:+n};function yt(n,t,e){if(r=(n=Float64Array.from(function*(n,t){if(void 0===t)for(let t of n)null!=t&&(t=+t)>=t&&(yield t);else{let e=-1;for(let r of n)null!=(r=t(r,++e,n))&&(r=+r)>=r&&(yield r)}}(n,e))).length){if((t=+t)<=0||r<2)return gt(n);if(t>=1)return ht(n);var r,o=(r-1)*t,i=Math.floor(o),a=ht(function n(t,e,r=0,o=t.length-1,i=y){for(;o>r;){if(o-r>600){const a=o-r+1,u=e-r+1,c=Math.log(a),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(a-l)/a)*(u-a/2<0?-1:1);n(t,e,Math.max(r,Math.floor(e-u*l/a+f)),Math.min(o,Math.floor(e+(a-u)*l/a+f)),i)}const a=t[e];let u=r,c=o;for(pt(t,r,e),i(t[o],a)>0&&pt(t,r,o);u<c;){for(pt(t,u,c),++u,--c;i(t[u],a)<0;)++u;for(;i(t[c],a)>0;)--c}0===i(t[r],a)?pt(t,r,c):(++c,pt(t,c,o)),c<=e&&(r=c+1),e<=c&&(o=c-1)}return t}(n,i).subarray(0,i+1));return a+(gt(n.subarray(i+1))-a)*(o-i)}}function vt(n,t,e=dt){if(r=n.length){if((t=+t)<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,o=(r-1)*t,i=Math.floor(o),a=+e(n[i],i,n);return a+(+e(n[i+1],i+1,n)-a)*(o-i)}}function mt(){var n,t=[],e=[],r=[];function i(){var n=0,o=Math.max(1,e.length);for(r=new Array(o-1);++n<o;)r[n-1]=vt(t,n/o);return a}function a(t){return isNaN(t=+t)?n:e[w(r,t)]}return a.invertExtent=function(n){var o=e.indexOf(n);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let e of n)null==e||isNaN(e=+e)||t.push(e);return t.sort(y),i()},a.range=function(n){return arguments.length?(e=Array.from(n),i()):e.slice()},a.unknown=function(t){return arguments.length?(n=t,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return mt().domain(t).range(e).unknown(n)},o.apply(a,arguments)}function bt(){var n,t=0,e=1,r=1,i=[.5],a=[0,1];function u(t){return t<=t?a[w(i,t,0,r)]:n}function c(){var n=-1;for(i=new Array(r);++n<r;)i[n]=((n+1)*e-(n-r)*t)/(r+1);return u}return u.domain=function(n){return arguments.length?([t,e]=n,t=+t,e=+e,c()):[t,e]},u.range=function(n){return arguments.length?(r=(a=Array.from(n)).length-1,c()):a.slice()},u.invertExtent=function(n){var o=a.indexOf(n);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],e]:[i[o-1],i[o]]},u.unknown=function(t){return arguments.length?(n=t,u):u},u.thresholds=function(){return i.slice()},u.copy=function(){return bt().domain([t,e]).range(a).unknown(n)},o.apply($n(u),arguments)}function wt(){var n,t=[.5],e=[0,1],r=1;function i(o){return o<=o?e[w(t,o,0,r)]:n}return i.domain=function(n){return arguments.length?(t=Array.from(n),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(n){return arguments.length?(e=Array.from(n),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return wt().domain(t).range(e).unknown(n)},o.apply(i,arguments)}var Mt=new Date,xt=new Date;function Ot(n,t,e,r){function o(t){return n(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return n(t=new Date(+t)),t},o.ceil=function(e){return n(e=new Date(e-1)),t(e,1),n(e),e},o.round=function(n){var t=o(n),e=o.ceil(n);return n-t<e-n?t:e},o.offset=function(n,e){return t(n=new Date(+n),null==e?1:Math.floor(e)),n},o.range=function(e,r,i){var a,u=[];if(e=o.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return u;do{u.push(a=new Date(+e)),t(e,i),n(e)}while(a<e&&e<r);return u},o.filter=function(e){return Ot((function(t){if(t>=t)for(;n(t),!e(t);)t.setTime(t-1)}),(function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;t(n,-1),!e(n););else for(;--r>=0;)for(;t(n,1),!e(n););}))},e&&(o.count=function(t,r){return Mt.setTime(+t),xt.setTime(+r),n(Mt),n(xt),Math.floor(e(Mt,xt))},o.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?o.filter(r?function(t){return r(t)%n==0}:function(t){return o.count(0,t)%n==0}):o:null}),o}var St=Ot((function(n){n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,t){n.setFullYear(n.getFullYear()+t)}),(function(n,t){return t.getFullYear()-n.getFullYear()}),(function(n){return n.getFullYear()}));St.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ot((function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e*n)})):null};var jt=St,At=(St.range,Ot((function(n){n.setDate(1),n.setHours(0,0,0,0)}),(function(n,t){n.setMonth(n.getMonth()+t)}),(function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())}),(function(n){return n.getMonth()}))),kt=At,Tt=(At.range,6e4),Ct=6048e5;function Pt(n){return Ot((function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)}),(function(n,t){n.setDate(n.getDate()+7*t)}),(function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Tt)/Ct}))}var Dt=Pt(0),Nt=Pt(1),Ut=Pt(2),Et=Pt(3),Ft=Pt(4),Lt=Pt(5),Vt=Pt(6),It=(Dt.range,Nt.range,Ut.range,Et.range,Ft.range,Lt.range,Vt.range,Ot(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*Tt)/864e5,n=>n.getDate()-1)),Yt=It,Ht=(It.range,Ot((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds()-n.getMinutes()*Tt)}),(function(n,t){n.setTime(+n+36e5*t)}),(function(n,t){return(t-n)/36e5}),(function(n){return n.getHours()}))),qt=Ht,$t=(Ht.range,Ot((function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds())}),(function(n,t){n.setTime(+n+t*Tt)}),(function(n,t){return(t-n)/Tt}),(function(n){return n.getMinutes()}))),Rt=$t,_t=($t.range,Ot((function(n){n.setTime(n-n.getMilliseconds())}),(function(n,t){n.setTime(+n+1e3*t)}),(function(n,t){return(t-n)/1e3}),(function(n){return n.getUTCSeconds()}))),zt=_t,Wt=(_t.range,Ot((function(){}),(function(n,t){n.setTime(+n+t)}),(function(n,t){return t-n})));Wt.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?Ot((function(t){t.setTime(Math.floor(t/n)*n)}),(function(t,e){t.setTime(+t+e*n)}),(function(t,e){return(e-t)/n})):Wt:null};var Bt=Wt;Wt.range;function Zt(n){return Ot((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCDate(n.getUTCDate()+7*t)}),(function(n,t){return(t-n)/Ct}))}var Kt=Zt(0),Gt=Zt(1),Qt=Zt(2),Xt=Zt(3),Jt=Zt(4),ne=Zt(5),te=Zt(6),ee=(Kt.range,Gt.range,Qt.range,Xt.range,Jt.range,ne.range,te.range,Ot((function(n){n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCDate(n.getUTCDate()+t)}),(function(n,t){return(t-n)/864e5}),(function(n){return n.getUTCDate()-1}))),re=ee,oe=(ee.range,Ot((function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)}),(function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()}),(function(n){return n.getUTCFullYear()})));oe.every=function(n){return isFinite(n=Math.floor(n))&&n>0?Ot((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})):null};var ie=oe;oe.range;function ae(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function ue(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ce(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}var le,fe,se,he={"-":"",_:" ",0:"0"},ge=/^\s*\d+/,pe=/^%/,de=/[\\^$*+?|[\]().{}]/g;function ye(n,t,e){var r=n<0?"-":"",o=(r?-n:n)+"",i=o.length;return r+(i<e?new Array(e-i+1).join(t)+o:o)}function ve(n){return n.replace(de,"\\$&")}function me(n){return new RegExp("^(?:"+n.map(ve).join("|")+")","i")}function be(n){return new Map(n.map((n,t)=>[n.toLowerCase(),t]))}function we(n,t,e){var r=ge.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Me(n,t,e){var r=ge.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function xe(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function Oe(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function Se(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function je(n,t,e){var r=ge.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Ae(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function ke(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Te(n,t,e){var r=ge.exec(t.slice(e,e+1));return r?(n.q=3*r[0]-3,e+r[0].length):-1}function Ce(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Pe(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function De(n,t,e){var r=ge.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function Ne(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Ue(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Ee(n,t,e){var r=ge.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function Fe(n,t,e){var r=ge.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Le(n,t,e){var r=ge.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Ve(n,t,e){var r=pe.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function Ie(n,t,e){var r=ge.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function Ye(n,t,e){var r=ge.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function He(n,t){return ye(n.getDate(),t,2)}function qe(n,t){return ye(n.getHours(),t,2)}function $e(n,t){return ye(n.getHours()%12||12,t,2)}function Re(n,t){return ye(1+Yt.count(jt(n),n),t,3)}function _e(n,t){return ye(n.getMilliseconds(),t,3)}function ze(n,t){return _e(n,t)+"000"}function We(n,t){return ye(n.getMonth()+1,t,2)}function Be(n,t){return ye(n.getMinutes(),t,2)}function Ze(n,t){return ye(n.getSeconds(),t,2)}function Ke(n){var t=n.getDay();return 0===t?7:t}function Ge(n,t){return ye(Dt.count(jt(n)-1,n),t,2)}function Qe(n){var t=n.getDay();return t>=4||0===t?Ft(n):Ft.ceil(n)}function Xe(n,t){return n=Qe(n),ye(Ft.count(jt(n),n)+(4===jt(n).getDay()),t,2)}function Je(n){return n.getDay()}function nr(n,t){return ye(Nt.count(jt(n)-1,n),t,2)}function tr(n,t){return ye(n.getFullYear()%100,t,2)}function er(n,t){return ye((n=Qe(n)).getFullYear()%100,t,2)}function rr(n,t){return ye(n.getFullYear()%1e4,t,4)}function or(n,t){var e=n.getDay();return ye((n=e>=4||0===e?Ft(n):Ft.ceil(n)).getFullYear()%1e4,t,4)}function ir(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function ar(n,t){return ye(n.getUTCDate(),t,2)}function ur(n,t){return ye(n.getUTCHours(),t,2)}function cr(n,t){return ye(n.getUTCHours()%12||12,t,2)}function lr(n,t){return ye(1+re.count(ie(n),n),t,3)}function fr(n,t){return ye(n.getUTCMilliseconds(),t,3)}function sr(n,t){return fr(n,t)+"000"}function hr(n,t){return ye(n.getUTCMonth()+1,t,2)}function gr(n,t){return ye(n.getUTCMinutes(),t,2)}function pr(n,t){return ye(n.getUTCSeconds(),t,2)}function dr(n){var t=n.getUTCDay();return 0===t?7:t}function yr(n,t){return ye(Kt.count(ie(n)-1,n),t,2)}function vr(n){var t=n.getUTCDay();return t>=4||0===t?Jt(n):Jt.ceil(n)}function mr(n,t){return n=vr(n),ye(Jt.count(ie(n),n)+(4===ie(n).getUTCDay()),t,2)}function br(n){return n.getUTCDay()}function wr(n,t){return ye(Gt.count(ie(n)-1,n),t,2)}function Mr(n,t){return ye(n.getUTCFullYear()%100,t,2)}function xr(n,t){return ye((n=vr(n)).getUTCFullYear()%100,t,2)}function Or(n,t){return ye(n.getUTCFullYear()%1e4,t,4)}function Sr(n,t){var e=n.getUTCDay();return ye((n=e>=4||0===e?Jt(n):Jt.ceil(n)).getUTCFullYear()%1e4,t,4)}function jr(){return"+0000"}function Ar(){return"%"}function kr(n){return+n}function Tr(n){return Math.floor(+n/1e3)}!function(n){le=function(n){var t=n.dateTime,e=n.date,r=n.time,o=n.periods,i=n.days,a=n.shortDays,u=n.months,c=n.shortMonths,l=me(o),f=be(o),s=me(i),h=be(i),g=me(a),p=be(a),d=me(u),y=be(u),v=me(c),m=be(c),b={a:function(n){return a[n.getDay()]},A:function(n){return i[n.getDay()]},b:function(n){return c[n.getMonth()]},B:function(n){return u[n.getMonth()]},c:null,d:He,e:He,f:ze,g:er,G:or,H:qe,I:$e,j:Re,L:_e,m:We,M:Be,p:function(n){return o[+(n.getHours()>=12)]},q:function(n){return 1+~~(n.getMonth()/3)},Q:kr,s:Tr,S:Ze,u:Ke,U:Ge,V:Xe,w:Je,W:nr,x:null,X:null,y:tr,Y:rr,Z:ir,"%":Ar},w={a:function(n){return a[n.getUTCDay()]},A:function(n){return i[n.getUTCDay()]},b:function(n){return c[n.getUTCMonth()]},B:function(n){return u[n.getUTCMonth()]},c:null,d:ar,e:ar,f:sr,g:xr,G:Sr,H:ur,I:cr,j:lr,L:fr,m:hr,M:gr,p:function(n){return o[+(n.getUTCHours()>=12)]},q:function(n){return 1+~~(n.getUTCMonth()/3)},Q:kr,s:Tr,S:pr,u:dr,U:yr,V:mr,w:br,W:wr,x:null,X:null,y:Mr,Y:Or,Z:jr,"%":Ar},M={a:function(n,t,e){var r=g.exec(t.slice(e));return r?(n.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(n,t,e){var r=s.exec(t.slice(e));return r?(n.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(n,t,e){var r=v.exec(t.slice(e));return r?(n.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(n,t,e){var r=d.exec(t.slice(e));return r?(n.m=y.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(n,e,r){return S(n,t,e,r)},d:Pe,e:Pe,f:Le,g:Ae,G:je,H:Ne,I:Ne,j:De,L:Fe,m:Ce,M:Ue,p:function(n,t,e){var r=l.exec(t.slice(e));return r?(n.p=f.get(r[0].toLowerCase()),e+r[0].length):-1},q:Te,Q:Ie,s:Ye,S:Ee,u:Me,U:xe,V:Oe,w:we,W:Se,x:function(n,t,r){return S(n,e,t,r)},X:function(n,t,e){return S(n,r,t,e)},y:Ae,Y:je,Z:ke,"%":Ve};function x(n,t){return function(e){var r,o,i,a=[],u=-1,c=0,l=n.length;for(e instanceof Date||(e=new Date(+e));++u<l;)37===n.charCodeAt(u)&&(a.push(n.slice(c,u)),null!=(o=he[r=n.charAt(++u)])?r=n.charAt(++u):o="e"===r?" ":"0",(i=t[r])&&(r=i(e,o)),a.push(r),c=u+1);return a.push(n.slice(c,u)),a.join("")}}function O(n,t){return function(e){var r,o,i=ce(1900,void 0,1);if(S(i,n,e+="",0)!=e.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!t||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=ue(ce(i.y,0,1))).getUTCDay(),r=o>4||0===o?Gt.ceil(r):Gt(r),r=re.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=ae(ce(i.y,0,1))).getDay(),r=o>4||0===o?Nt.ceil(r):Nt(r),r=Yt.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?ue(ce(i.y,0,1)).getUTCDay():ae(ce(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,ue(i)):ae(i)}}function S(n,t,e,r){for(var o,i,a=0,u=t.length,c=e.length;a<u;){if(r>=c)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=M[o in he?t.charAt(a++):o])||(r=i(n,e,r))<0)return-1}else if(o!=e.charCodeAt(r++))return-1}return r}return(b.x=x(e,b),b.X=x(r,b),b.c=x(t,b),w.x=x(e,w),w.X=x(r,w),w.c=x(t,w),{format:function(n){var t=x(n+="",b);return t.toString=function(){return n},t},parse:function(n){var t=O(n+="",!1);return t.toString=function(){return n},t},utcFormat:function(n){var t=x(n+="",w);return t.toString=function(){return n},t},utcParse:function(n){var t=O(n+="",!0);return t.toString=function(){return n},t}})}(n),fe=le.format,le.parse,se=le.utcFormat,le.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Cr=1e3,Pr=60*Cr,Dr=60*Pr,Nr=24*Dr,Ur=7*Nr,Er=30*Nr,Fr=365*Nr;function Lr(n){return new Date(n)}function Vr(n){return n instanceof Date?+n:+new Date(+n)}function Ir(n,t,e,r,o,i,a,u,c){var l=xn(),f=l.invert,s=l.domain,h=c(".%L"),g=c(":%S"),p=c("%I:%M"),y=c("%I %p"),m=c("%a %d"),b=c("%b %d"),w=c("%B"),M=c("%Y"),x=[[a,1,Cr],[a,5,5*Cr],[a,15,15*Cr],[a,30,30*Cr],[i,1,Pr],[i,5,5*Pr],[i,15,15*Pr],[i,30,30*Pr],[o,1,Dr],[o,3,3*Dr],[o,6,6*Dr],[o,12,12*Dr],[r,1,Nr],[r,2,2*Nr],[e,1,Ur],[t,1,Er],[t,3,3*Er],[n,1,Fr]];function O(u){return(a(u)<u?h:i(u)<u?g:o(u)<u?p:r(u)<u?y:t(u)<u?e(u)<u?m:b:n(u)<u?w:M)(u)}function S(t,e,r){if(null==t&&(t=10),"number"==typeof t){var o,i=Math.abs(r-e)/t,a=v((function(n){return n[2]})).right(x,i);return a===x.length?(o=d(e/Fr,r/Fr,t),t=n):a?(o=(a=x[i/x[a-1][2]<x[a][2]/i?a-1:a])[1],t=a[0]):(o=Math.max(d(e,r,t),1),t=u),t.every(o)}return t}return l.invert=function(n){return new Date(f(n))},l.domain=function(n){return arguments.length?s(Array.from(n,Vr)):s().map(Lr)},l.ticks=function(n){var t,e=s(),r=e[0],o=e[e.length-1],i=o<r;return i&&(t=r,r=o,o=t),t=(t=S(n,r,o))?t.range(r,o+1):[],i?t.reverse():t},l.tickFormat=function(n,t){return null==t?O:c(t)},l.nice=function(n){var t=s();return(n=S(n,t[0],t[t.length-1]))?s(zn(t,n)):l},l.copy=function(){return wn(l,Ir(n,t,e,r,o,i,a,u,c))},l}function Yr(){return o.apply(Ir(jt,kt,Dt,Yt,qt,Rt,zt,Bt,fe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Hr=Ot((function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)}),(function(n,t){n.setUTCMonth(n.getUTCMonth()+t)}),(function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())}),(function(n){return n.getUTCMonth()})),qr=Hr,$r=(Hr.range,Ot((function(n){n.setUTCMinutes(0,0,0)}),(function(n,t){n.setTime(+n+36e5*t)}),(function(n,t){return(t-n)/36e5}),(function(n){return n.getUTCHours()}))),Rr=$r,_r=($r.range,Ot((function(n){n.setUTCSeconds(0,0)}),(function(n,t){n.setTime(+n+t*Tt)}),(function(n,t){return(t-n)/Tt}),(function(n){return n.getUTCMinutes()}))),zr=_r;_r.range;function Wr(){return o.apply(Ir(ie,qr,Kt,re,Rr,zr,zt,Bt,se).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Br(){var n,t,e,r,o,i=0,a=1,u=yn,c=!1;function l(t){return isNaN(t=+t)?o:u(0===e?.5:(t=(r(t)-n)*e,c?Math.max(0,Math.min(1,t)):t))}function f(n){return function(t){var e,r;return arguments.length?([e,r]=t,u=n(e,r),l):[u(0),u(1)]}}return l.domain=function(o){return arguments.length?([i,a]=o,n=r(i=+i),t=r(a=+a),e=n===t?0:1/(t-n),l):[i,a]},l.clamp=function(n){return arguments.length?(c=!!n,l):c},l.interpolator=function(n){return arguments.length?(u=n,l):u},l.range=f(hn),l.rangeRound=f(gn),l.unknown=function(n){return arguments.length?(o=n,l):o},function(o){return r=o,n=o(i),t=o(a),e=n===t?0:1/(t-n),l}}function Zr(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Kr(){var n=$n(Br()(yn));return n.copy=function(){return Zr(n,Kr())},i.apply(n,arguments)}function Gr(){var n=Xn(Br()).domain([1,10]);return n.copy=function(){return Zr(n,Gr()).base(n.base())},i.apply(n,arguments)}function Qr(){var n=et(Br());return n.copy=function(){return Zr(n,Qr()).constant(n.constant())},i.apply(n,arguments)}function Xr(){var n=ut(Br());return n.copy=function(){return Zr(n,Xr()).exponent(n.exponent())},i.apply(n,arguments)}function Jr(){return Xr.apply(null,arguments).exponent(.5)}function no(){var n=[],t=yn;function e(e){if(!isNaN(e=+e))return t((w(n,e,1)-1)/(n.length-1))}return e.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(y),e},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.range=function(){return n.map((e,r)=>t(r/(n.length-1)))},e.quantiles=function(t){return Array.from({length:t+1},(e,r)=>yt(n,r/t))},e.copy=function(){return no(t).domain(n)},i.apply(e,arguments)}function to(n,t){void 0===t&&(t=n,n=hn);for(var e=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);e<r;)i[e]=n(o,o=t[++e]);return function(n){var t=Math.max(0,Math.min(r-1,Math.floor(n*=r)));return i[t](n-t)}}function eo(){var n,t,e,r,o,i,a,u=0,c=.5,l=1,f=1,s=yn,h=!1;function g(n){return isNaN(n=+n)?a:(n=.5+((n=+i(n))-t)*(f*n<f*t?r:o),s(h?Math.max(0,Math.min(1,n)):n))}function p(n){return function(t){var e,r,o;return arguments.length?([e,r,o]=t,s=to(n,[e,r,o]),g):[s(0),s(.5),s(1)]}}return g.domain=function(a){return arguments.length?([u,c,l]=a,n=i(u=+u),t=i(c=+c),e=i(l=+l),r=n===t?0:.5/(t-n),o=t===e?0:.5/(e-t),f=t<n?-1:1,g):[u,c,l]},g.clamp=function(n){return arguments.length?(h=!!n,g):h},g.interpolator=function(n){return arguments.length?(s=n,g):s},g.range=p(hn),g.rangeRound=p(gn),g.unknown=function(n){return arguments.length?(a=n,g):a},function(a){return i=a,n=a(u),t=a(c),e=a(l),r=n===t?0:.5/(t-n),o=t===e?0:.5/(e-t),f=t<n?-1:1,g}}function ro(){var n=$n(eo()(yn));return n.copy=function(){return Zr(n,ro())},i.apply(n,arguments)}function oo(){var n=Xn(eo()).domain([.1,1,10]);return n.copy=function(){return Zr(n,oo()).base(n.base())},i.apply(n,arguments)}function io(){var n=et(eo());return n.copy=function(){return Zr(n,io()).constant(n.constant())},i.apply(n,arguments)}function ao(){var n=ut(eo());return n.copy=function(){return Zr(n,ao()).exponent(n.exponent())},i.apply(n,arguments)}function uo(){return ao.apply(null,arguments).exponent(.5)}e.d(t,"scaleBand",(function(){return c})),e.d(t,"scalePoint",(function(){return l})),e.d(t,"scaleIdentity",(function(){return _n})),e.d(t,"scaleLinear",(function(){return Rn})),e.d(t,"scaleLog",(function(){return Jn})),e.d(t,"scaleSymlog",(function(){return rt})),e.d(t,"scaleOrdinal",(function(){return u})),e.d(t,"scaleImplicit",(function(){return a})),e.d(t,"scalePow",(function(){return ct})),e.d(t,"scaleSqrt",(function(){return lt})),e.d(t,"scaleRadial",(function(){return st})),e.d(t,"scaleQuantile",(function(){return mt})),e.d(t,"scaleQuantize",(function(){return bt})),e.d(t,"scaleThreshold",(function(){return wt})),e.d(t,"scaleTime",(function(){return Yr})),e.d(t,"scaleUtc",(function(){return Wr})),e.d(t,"scaleSequential",(function(){return Kr})),e.d(t,"scaleSequentialLog",(function(){return Gr})),e.d(t,"scaleSequentialPow",(function(){return Xr})),e.d(t,"scaleSequentialSqrt",(function(){return Jr})),e.d(t,"scaleSequentialSymlog",(function(){return Qr})),e.d(t,"scaleSequentialQuantile",(function(){return no})),e.d(t,"scaleDiverging",(function(){return ro})),e.d(t,"scaleDivergingLog",(function(){return oo})),e.d(t,"scaleDivergingPow",(function(){return ao})),e.d(t,"scaleDivergingSqrt",(function(){return uo})),e.d(t,"scaleDivergingSymlog",(function(){return io})),e.d(t,"tickFormat",(function(){return qn}))},,,function(n,t,e){"use strict";function r(n,t){if(null==n)return{};var e,r,o=function(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}(n,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(o[e]=n[e])}return o}function o(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function i(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach((function(t){a(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var u,c=e(0),l=c.isArray,f=c.set,s=c.get,h=c.merge,g=e(4),p=g.CONTROL_TYPES,d=g.getSuites,y=e(3),v=y.getValuePathMap,m=y.getValuePath,b=y.getShowKey,w=e(2),M=w.isPureObject,x=w.getKeyChain,O=w.deepCopy,S=p.innerSuite,j=["group"].concat(function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(u=p.suite)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),["padding"]),A=function(n){var t,e=n.parentDefaultValue,r=n.defaultValue,o=n.value,i=n.keyChain;return void 0!==e&&(t=e),void 0!==r&&(t=r),void 0!==o&&(t=o),void 0===t&&function(n){var t=n.join(".");"handler"!==t&&"fold"!==t&&console.warn("Warning from datav.gui: ".concat(t," configuration needs corresponding value or default value!"))}(i),t},k=function(n,t,e){if(!l(e))return void 0!==(n||{})[e]?n[e]:(t||{})[e];var r=M((n||{})[e[0]])?n[e[0]][e[1]]:void 0,o=M((t||{})[e[0]])?t[e[0]][e[1]]:void 0;return r||o},T=function(n){var t=n.valuePath,e=n.rootValue,r=n.config,o=n.mergedValue,u=n.parentDefaultValue,c=s(e,t),l=r.enableHide,h=r.type,g=b(r),p=r.default;p=void 0===p?u:p;var d=(h||"").toLowerCase();return j.includes(d)&&l&&(!M(p)&&(p={}),!M(c)&&(c={}),void 0===p[g]&&(p[g]=!0),void 0===c[g]&&(c[g]=p[g]),f(o,t,a({},g,c[g]))),["padding"].includes(d)&&(c=i({},p,{},c)),{defaultValue:p,value:c}},C=function n(t){var e=t.config,o=t.keyChain,a=t.parentDefaultValue,u=r(t,["config","keyChain","parentDefaultValue"]);if(!e||!M(e))return null;var c=u.rootValue,h=u.mergedValue,g=u.valuePathMap,p=e.children,y=e.type;y=(y||"").toLowerCase();var v=e.template,b=e.child,w=m({keyChain:o,valuePathMap:g}),j=T({config:e,valuePath:w,rootValue:c,mergedValue:h,parentDefaultValue:a}),C=j.value,P=j.defaultValue;if("array"===y)(!C||l(C)&&!C.length)&&(f(c,w,C=P),f(h,w,O(C))),b.child?(p=b.child,Object.keys(p).forEach((function(t){(C||[]).forEach((function(e,r){n(i({},u,{config:p[t],keyChain:x(o,[r,t]),parentDefaultValue:k(P,a,[r,t])}))}))}))):(C||[]).forEach((function(n,t){var e=x(o,t),r=m({keyChain:e,valuePathMap:g}),i=l(P)?P[t]:void 0,u=l(a)?a[t]:void 0,c=A({v:n,defaultValue:i,parentDefaultValue:u,keyChain:e});f(h,r,c)}));else if("tabs"===y){C||(f(c,w,C=P),f(h,w,O(C))),v?(p=v.children,Object.keys(p).forEach((function(t){(C||[]).forEach((function(e,r){n(i({},u,{config:p[t],keyChain:x(o,[r,t]),parentDefaultValue:k(P,a,[r,t])}))}))}))):p.forEach((function(t,e){Object.keys(t.children||{}).forEach((function(r){n(i({},u,{config:t.children[r],keyChain:x(o,[e,r]),parentDefaultValue:k(P,a,[e,r])}))}))}));var D=s(h,w),N=M(D)?Object.values(D):D;N=l(N)?N:[],f(h,w,N),N.forEach((function(n,t){var e=s(C,[t,"_id"]),r=s(C,[t,"_label"]),o=s(C,[t,"_icon"]);void 0!==r&&(n._label=r),void 0!==o&&(n._icon=o),void 0!==e&&(n._id=e)}))}else if(p||S.includes(y)){if(S.includes(y)){var U=d(i({},e,{default:i({},e.default||{},{},a||{})}));p=U.children;var E=T({rootValue:c,mergedValue:h,valuePath:w,config:U,parentDefaultValue:a});C=E.value,P=E.defaultValue}Object.keys(p).forEach((function(t){n(i({},u,{config:p[t],keyChain:x(o,t),parentDefaultValue:k(P,a,t)}))}))}else f(h,w,A({defaultValue:P,parentDefaultValue:a,value:C,keyChain:o}))};n.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.config,e=n.value,r=void 0===e?{}:e;if(!t)return r;var o={},i=v(t);return M(t)&&Object.keys(t).forEach((function(n){C({config:t[n],keyChain:[n],rootValue:r,mergedValue:o,valuePathMap:i})})),h(o,r)}},function(n,t,e){"use strict";var r=e(9),o=e(14),i=e(15),a=e(16),u=e(3),c=u.getValuePathMap,l=u.getValuePath,f=u.getShowKey,s=e(17),h=e(18),g=e(19),p={extractDefault:r,mergeValue:o,getValuePathMap:c,getValuePath:l,getBackgroundStyleFromFill:i,getBorderStyle:a,setDefault:s,transformShowInPanelToRelative:h,scale:e(26),getShowKey:f,validateCustomStyle:e(32),transformShowInPanelToStatic:g};n.exports=p},,,,function(n,t,e){"use strict";function r(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=e(0),i=o.isPlainObject,a=o.isUndefined,u=o.isNumber,c=o.union,l=o.merge,f=o.pick,s=e(2).deepCopy,h=e(4),g=h.CONTROL_TYPES,p=h.SUITES_CHILDREN,d=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,e=t,r="",o=[],i=n.length,c=0;c<i;c++){if(g.innerSuite.includes(r)&&(e=l(s(e)||{},p[r]),o.length&&(e=f(e,o))),!e)return{type:"",components:["default"],mode:"default"};if(!u(n[c])){var h=e[n[c]]||{};if(c===i-1){var d=h.type,y=h.components,v=h.mode;return d=(d||"").toLowerCase(),Array.isArray(y)||(y="fill"===d?["flat"]:["default"]),{type:d,components:y=y.map((function(n){return n.toLowerCase()})),mode:v=(v||"").toLowerCase(),external:!a(h.dataField)}}r=(h.type||"").toLowerCase(),o=h.components||[],e=h.children||h.child&&h.child.child||h.child||h.template&&h.template.children}}return{type:"",components:["default"],mode:"default"}};n.exports=function(n){var t=n.source,e=n.target,o=t.configObj,u=t.valueObj,l=e.configObj;return function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,u=arguments.length>2?arguments[2]:void 0,f=d(t,l),s=f.type,h=f.components,g=f.mode,p=f.external;if(p)return u;if(Array.isArray(u)&&!["keyboard","slider"].includes(s)){var y=[];a(e)&&(e=[]);for(var v=Math.min(e.length,u.length),m=0;m<v;m++)y[m]=n([].concat(r(t),[m]),e[m],u[m]);if(u.length>v){var b=u.slice(v,u.length);y=[].concat(r(y),r(b))}return y}if(i(u)&&!["fill","multicolor"].includes(s)){var w={};return a(e)&&(e={}),Object.keys(u).forEach((function(o){w[o]=n([].concat(r(t),[o]),e[o],u[o])})),w}var M=!a(e),x=d(t,o),O=x.type,S=x.components,j=x.mode,A=s===O,k=g===j,T=c(h,S),C=T.length;return M&&A&&C&&k?"fill"===s?1===h.length&&1===S.length?e:1===h.length&&S>1?(e.type||"").toLowerCase()===T[0]?e.value:u:h.length>1&&1===S.length?{type:S[0],value:e}:T.includes((e.type||"").toLowerCase())?e:u:e:u}([],u,e.valueObj)}},function(n,t,e){"use strict";var r=e(0),o=r.isUndefined,i=r.isArray,a=r.isNumber,u=r.isString,c=r.isEmpty,l="transparent",f=function(n){return n||l},s=function(n){var t=n.angle,e=n.stops,r=void 0===e?[]:e;return"linear-gradient(".concat(t,"deg, ").concat(r.map((function(n){var t=n||{},e=t.offset,r=t.color;return"".concat(r||l," ").concat(e,"%")})).join(", "),")")},h=function(n){var t=n.fillType,e=n.url,r=n.tileSize;switch(t){case"widthContainTop":return"url('".concat(e,"') no-repeat top/100%");case"contain":return"url('".concat(e,"') no-repeat center/contain");case"stretch":return"url('".concat(e,"') no-repeat center center / 100% 100%");case"tile":return"url('".concat(e,"') repeat left top / ").concat(r,"%");default:return"url('".concat(e,"') no-repeat center/cover ")}};n.exports=function(n){return c(n)?l:"string"==typeof n?f(n):o(n.value)&&u(n.fillType)&&u(n.url)?h(n||{}):o(n.value)&&a(n.angle)&&i(n.stops)?s(n||{}):"flat"===n.type?f(n.value):"image"===n.type?h(n.value||{}):"linearGradient"===n.type?s(n.value||{}):void 0}},function(n,t,e){"use strict";function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var o=function(n){var t=n.attr,e=n.edge,r=void 0===e?{}:e,o=n.all,i=void 0===o?{}:o;return r[t]||i[t]||a[t]},i=function(n){var t=n.attr,e=n.borderValue,r=e.all,i=Array.apply(0,new Array(4)).map((function(n,i){switch(i){case 0:return o({attr:t,edge:e.top,all:r});case 1:return o({attr:t,edge:e.right,all:r});case 2:return o({attr:t,edge:e.bottom,all:r});case 3:return o({attr:t,edge:e.left,all:r})}}));return"width"===t?i.reduce((function(n,t){return"".concat(n," ").concat(t,"px")}),"").trim():i.join(" ")},a={width:0,style:"none",color:"rgba(0,0,0,0)"};n.exports=function(n){return"object"!==r(n)&&(n={}),n||(n={}),{width:i({attr:"width",borderValue:n}),style:i({attr:"style",borderValue:n}),color:i({attr:"color",borderValue:n})}}},function(n,t,e){"use strict";var r=e(0),o=r.get,i=r.isEmpty,a=e(2),u=a.isPureObject,c=a.deepCopy,l=e(3).getShowKey,f=e(9),s=function n(t,e,r){if(u(t)){if(void 0!==t.default){var o=l(r);if(o&&e===o)return;delete t.default}Object.keys(t).forEach((function(e){n(t[e],e,t)}))}};n.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.config,e=n.value,r=void 0===e?{}:e;if(!r||i(r))return t;var a=c(t);if(!u(a))return a;var l=f({config:t,value:r});return Object.keys(a).forEach((function(n){var t=(a[n]||{}).valuePath,e=t?o(mergedValue,t):l[n],r=a.default;s(a[n]),a[n].default=e||r})),a}},function(n,t,e){"use strict";function r(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if(!(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e(2),a=i.deepCopy,u=i.isPureObject,c=e(3),l=c.getValuePathMap,f=c.getValuePath,s=e(4),h=s.CONTROL_TYPES,g=s.getSuites,p=e(0).isString,d=h.innerSuite,y=function n(t){var e=t.config,i=t.keyChain,a=t.valuePathMap,c=e.type,l=e.children,s=e.showInPanel;s&&function(n,t,e){var r=[];Array.isArray(n)?r=n:u(n)&&n.conditions&&(r=n.conditions),r.forEach((function(n){var r=o(n,1)[0];if(function(n){return n&&"."!==n[0]}(r)){for(var i=f({keyChain:r.split("."),valuePathMap:e})||[],a=f({keyChain:t,valuePathMap:e})||[];i[0]===a[0];)i.shift(),a.shift();var u="".concat(a.map((function(n){return"."})).join("")).concat(i.join("."));n[0]=u}}))}(s,i,a),c=p(c)?c.toLowerCase():"",(l||d.includes(c))&&(d.includes(c)&&(l=g(e).children),Object.keys(l||[]).forEach((function(t){n({config:l[t],keyChain:[].concat(r(i),[t]),valuePathMap:a})})))};n.exports=function(n){var t=a(n),e=l(t);return u(t)&&Object.keys(t).forEach((function(n){y({config:t[n],keyChain:[n],valuePathMap:e})})),t}},function(n,t,e){"use strict";function r(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if(!(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e(0),a=i.isArray,u=i.isObject,c=e(2),l=c.deepCopy,f=c.isPureObject,s=c.getAbsolutePath,h=e(3).getValuePathMap,g=e(20);n.exports=function(n){var t=n.value,e=n.config,i=l(e),c=h(i);return f(i)?(Object.keys(i).forEach((function(n){!function n(t){var e=t.config,i=t.keyChain,c=t.valuePathMap,l=t.rootValue,h=t.arrayPath,p=void 0===h?"":h,d=e.children,y=e.showInPanel,v=e.show,m=e.template,b=e.child;if(void 0!==v&&void 0===y&&(y=v,a(v)&&y.map((function(n){return n[0]=n[0].startsWith(".")?n[0]:".".concat(n[0]),n}))),y)if(p){var w=[],M="$and";a(y)?(w=y,M="$and"):u(y)&&(a(y.conditions)?(w=y.conditions,M="$or"===y.logicalType?"$or":"$and"):a(y.$and)?(w=y.$and,M="$and"):a(y.$or)&&(w=y.$or,M="$or"));var x=w.map((function(n){var t=o(n,1)[0];return(s(t,i)||[]).length>p.split(".").length?n:g([n],i,l,c)}));"$and"===M&&x.findIndex((function(n){return!n}))>-1?e.showInPanel=!1:"$or"===M&&x.findIndex((function(n){return"boolean"==typeof n&&n}))>-1?e.showInPanel=!0:(x=x.filter((function(n){return"boolean"!=typeof n}))).length?e.showInPanel={conditions:x,logicalType:M}:e.showInPanel=!0}else e.showInPanel=g(y,i,l,c);d=d||m&&m.children||b&&b.child,p=p||m&&m.children||b&&b.child?i.join("."):"",d&&f(d)&&Object.keys(d||[]).forEach((function(t){n({config:d[t],keyChain:[].concat(r(i),[t]),valuePathMap:c,rootValue:l,arrayPath:p})}))}({config:i[n],keyChain:[n],valuePathMap:c,rootValue:t})})),i):i}},function(n,t,e){"use strict";var r=e(21),o=e(22),i=e(23),a=e(24),u=e(25),c=e(3).getValuePath,l=e(2).getAbsolutePath,f=function(n,t,e,r){return function(n,t,e){var r="string"==typeof n?n.split("."):n,o=c({keyChain:r,valuePathMap:e});return u(t,o)}(l(n,t),e,r)},s=function(n,t,e){var r=!1;switch(t){case"$eq":r=n===e;break;case"$ne":r=n!==e;break;case"$gt":r=n>e;break;case"$lt":r=n<e;break;case"$gte":r=n>=e;break;case"$lte":r=n<=e;break;case"$in":r=o(e)&&e.indexOf(n)>=0;break;case"$nin":r=o(e)&&-1==e.indexOf(n);break;default:r=!1}return r};n.exports=function(n,t,e,u){if(r(n))return!0;if(a(n))return!!n;var c,l;if(o(n))c=n,l="$and";else{if(!i(n))return!0;if(o(n.conditions))c=n.conditions,l="$or"===n.logicalType?"$or":"$and";else if(o(n.$and))c=n.$and,l="$and";else{if(!o(n.$or))return!0;c=n.$or,l="$or"}}for(var h="$and"===l,g=0;g<c.length;g++){var p=c[g];if(o(p)){var d=f(p[0],t,e,u),y=p[1],v=p[2],m=!r(d)&&s(d,y,v);if("$and"===l){if(!(h=h&&m))break}else if(h=h||m)break}}return h}},function(n,e){n.exports=t},function(n,t){n.exports=e},function(n,t){n.exports=r},function(n,t){n.exports=o},function(n,t){n.exports=i},function(n,t,e){"use strict";var r=e(6),o=e(27),i={scale:r,marker:e(30),size:e(31),color:o};n.exports=i},function(n,t,e){"use strict";function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function i(n){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function a(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if(!(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=e(6),l=c.scaleThreshold,f=c.scaleLinear,s=e(0),h=e(28),g=h.getMinMax,p=h.transformGradientColor,d=e(29),y=d.DEFAULT_UNKONW,v=d.SUPPORT_TYPES,m=e(5),b=m.commonOrdinalScale,w=m.formatNumber,M=m.getFlatData,x=m.isAbnormal,O=e(0),S=O.get,j=O.isNumber,A=O.isString,k=O.isBoolean,T=s.isPlainObject,C=s.cloneDeep,P=s.noop,D=function(n){var t=n.config,e=n.data,r=void 0===e?[]:e,o=n.unknown,i=n.field,c=t.custom,f=t.range,s=void 0===f?[]:f,h=t.domain,p=void 0===h?[]:h,d=C(s);d.unshift(d[0]),d.push(d[d.length-1]);var y=u(p);if(!c){var v=i?r.map((function(n){return n[i]})):r,m=w(v),b=a(g(m),2),M=b[0],x=b[1],O=s.length;y=Array.apply(0,new Array(O+1)).map((function(n,t){return t*(x-M)/O+M}))}var S=Math.max.apply(Math,u(y)),j=l().domain(y).range(d).unknown(o);return function(n){return Math.abs(n-S)<Number.EPSILON?d[d.length-2]:j(n)}},N=function(n){var t=n.config,e=n.data,r=void 0===e?[]:e,o=n.unknown,i=n.field,u=t.custom,c=t.range,l=void 0===c?[]:c,s=t.domain,h=void 0===s?[]:s;if(!u){var p=i?r.map((function(n){return n[i]})):r,d=w(p),y=a(g(d),2),v=y[0],m=y[1],b=l.length,M=Array.apply(0,new Array(b)).map((function(n,t){return t*(m-v)/(b-1)+v})),x=f(M,l).unknown(o).clamp(!0);return function(n){return x(n)}}var O=f(h,l).clamp(!0).unknown(o);return function(n){return O(n)}},U=function(n){var t=n.config,e=void 0===t?{}:t,r=n.data,o=n.field,a=void 0===o?"":o,u=n.linearGradientTranslator,c=void 0===u?P:u;if(!T(e))return function(){return y};var l=e.mapping,f=e.fixed,s=e.scale;if(l){var h=S(s,"abnormal",y),g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.config,e=void 0===t?{}:t,r=n.data,o=void 0===r?[]:r,i=n.unknown,a=void 0===i?y:i,u=n.field,c=void 0===u?"":u,l=e.type;switch(l){case v.ORDINAL:return b({config:e});case v.THRESHOLD:return D({config:e,data:o,unknown:a,field:c});case v.LINEAR:return N({config:e,data:o,unknown:a,field:c});default:return function(){return a}}}({config:s,data:r,unknown:h,field:a});return function(n){var t=M(n,a),e=x(t);return t=[v.THRESHOLD,v.LINEAR].includes(s.type)?w(t):t,e||x(t)||!(j(t)||A(t)||k(t))?h:g(t)}}if("flat"===f.type){var p=f.value;return function(){return p}}if("linearGradient"===f.type){var d=c(f.value);return function(){return d}}if("object"===i(f)&&f.stops){var m=c(f);return function(){return m}}return function(){return f}},E=U;E.g2plot=function(n){var t=function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){o(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}({linearGradientTranslator:p},n);return U(t)},E.g2plotLegendBg=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.mapping,e=n.fixed,r=n.scale,o=void 0===r?{}:r;if(t){var a=o.range,u=void 0===a?[]:a,c=o.custom,l=o.domain,s=void 0===l?[]:l,h=o.type,g=u.length;if(!g)return"transparent";if(1===g)return u[0];var d=[],y=[];if(h===v.LINEAR){if(c){var m=f().domain([s[0],s[s.length-1]]).range([0,100]);y=s.map((function(n){return m(n)}))}else y=Array.apply(0,new Array(g)).map((function(n,t){return Math.floor(100*t/(g-1))}));d=u.map((function(n,t){return{color:n,offset:y[t]}}))}else if(h===v.THRESHOLD){if(c){var b=f().domain([s[0],s[s.length-1]]).range([0,100]);y=s.map((function(n){return b(n)}))}else y=Array.apply(0,new Array(g+1)).map((function(n,t){return Math.floor(100/g*t)}));y.forEach((function(n,t){0!==t&&d.push({color:u[t-1],offset:n}),t!==y.length-1&&d.push({color:u[t],offset:n})}))}else(y=Array.apply(0,new Array(g+1)).map((function(n,t){return Math.floor(100/g*t)}))).forEach((function(n,t){0!==t&&d.push({color:u[t-1],offset:n}),t!==y.length-1&&d.push({color:u[t],offset:n})}));return p({stops:d,angle:0})}return"flat"===e.type?e.value:"linearGradient"===e.type?p(e.value):"object"===i(e)&&e.stops?p(e):e},n.exports=E},function(n,t,e){"use strict";function r(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=e(0).uniq;n.exports={getDomainClass:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o(n)},transformGradientColor:function(n){var t={angle:n.angle,stops:r(n.stops)};return t.stops.sort((function(n,t){return n.offset-t.offset})),"l(".concat(t.angle,")").concat(t.stops.reduce((function(n,t){return n+" "+t.offset/100+":"+t.color}),""))},getMinMax:function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1/0,e=-1/0,r=n.length;r>-1;r--)t=t>n[r]?n[r]:t,e=e>n[r]?e:n[r];return[t,e]}}},function(n,t,e){"use strict";n.exports={DEFAULT_UNKONW:"transparent",SUPPORT_TYPES:{ORDINAL:"ordinal",THRESHOLD:"threshold",LINEAR:"linear"}}},function(n,t,e){"use strict";var r=e(0),o=r.isPlainObject,i=r.get,a=r.isNumber,u=r.isString,c=r.isBoolean,l=e(5),f=l.commonOrdinalScale,s=l.getFlatData,h=l.isAbnormal;n.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.config,e=n.field,r=void 0===e?"":e;if(!o(t))return function(){return""};var l=t.mapping,g=t.fixed,p=t.scale,d=void 0===p?{}:p;if(l){var y=i(d,"abnormal",""),v=f({config:d,unknown:y,field:r});return function(n){var t=s(n,r);return h(t)||!(a(t)||u(t)||c(t))?y:v(t)}}var m=o(g)?g.value:g;return function(){return m}}},function(n,t,e){"use strict";var r=e(0),o=r.isPlainObject,i=r.get,a=r.isNumber,u=e(5),c=u.commonLinearScale,l=u.formatNumber,f=u.getFlatData,s=u.isAbnormal;n.exports=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.config,e=n.data,r=void 0===e?[]:e,u=n.field,h=void 0===u?"":u;if(!o(t))return function(){return 0};var g=t.mapping,p=t.fixed,d=t.scale,y=void 0===d?{}:d;if(g){var v=i(y,"abnormal",0),m=c({config:y,data:r,field:h});return function(n){var t=f(n,h),e=s(t),r=l(t);return e||s(r)||!a(r)?v:m(r)}}return function(){return p}}},function(n,t,e){"use strict";var r={OR:"some",AND:"every"},o="lt",i="gt",a="le",u="ge",c="eq",l="ne",f="in",s=function(n){var t=n.field,e=n.op,r=n.value,s=n.data;if(!t||!e)return!1;var h=s[t],g="string"==typeof r?+r:r,p="string"==typeof h?+h:h;switch(e){case i:return p>g;case u:return p>=g;case o:return p<g;case a:return g>=p;case c:return r==h;case l:return r!=h;case f:return"".concat(h).includes(r)}};n.exports=function(n){var t=n.config,e=n.data,o=n.ruleKey;return t.filter((function(n){var t=n[o];return!!t.enabled&&function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.config,e=void 0===t?{}:t,o=n.data,i=void 0===o?{}:o,a=e.expressions,u=void 0===a?[]:a,c=e.operator,l=void 0===c?"":c;if(!u.length)return!1;var f=r[l],h=u[f]((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.operator,e=void 0===t?"":t,o=n.expressions,a=void 0===o?[]:o,u=r[e],c=a.length&&a[u]((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s({field:n[0],op:n[1],value:n[2],data:i})}));return c}));return h}({config:t,data:e})}))}}])}));