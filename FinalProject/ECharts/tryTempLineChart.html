<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <script src="https://cdn.jsdelivr.net/npm/echarts@5.1.1/dist/echarts.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://d3js.org/d3.v6.min.js"></script>
    </head>
    <body>
        <div id="main" style="width: 1200px; height: 500px;"></div>
        <script>
            
            var chartDom = document.getElementById('main');
            var myChart = echarts.init(chartDom);
            var option;
            var syData;
            /*
            var data = [["2000-06-05",116],["2000-06-06",129],["2000-06-07",135],["2000-06-08",86],["2000-06-09",73],["2000-06-10",85],["2000-06-11",73],["2000-06-12",68],["2000-06-13",92],["2000-06-14",130],["2000-06-15",245],["2000-06-16",139],["2000-06-17",115],["2000-06-18",111],["2000-06-19",309],["2000-06-20",206],["2000-06-21",137],["2000-06-22",128],["2000-06-23",85],["2000-06-24",94],["2000-06-25",71],["2000-06-26",106],["2000-06-27",84],["2000-06-28",93],["2000-06-29",85],["2000-06-30",73],["2000-07-01",83],["2000-07-02",125],["2000-07-03",107],["2000-07-04",82],["2000-07-05",44],["2000-07-06",72],["2000-07-07",106],["2000-07-08",107],["2000-07-09",66],["2000-07-10",91],["2000-07-11",92],["2000-07-12",113],["2000-07-13",107],["2000-07-14",131],["2000-07-15",111],["2000-07-16",64],["2000-07-17",69],["2000-07-18",88],["2000-07-19",77],["2000-07-20",83],["2000-07-21",111],["2000-07-22",57],["2000-07-23",55],["2000-07-24",60]];
            var dateList = data.map(function (item) {
                return item[0];
            });
            var valueList = data.map(function (item) {
                return item[1];
            });
            console.log(dateList);
            */
           dateList = []
           for(var i=1; i<=365; i++){
               dateList.push(i);
           }

            d3.csv("http://localhost:99//syTempData.csv",function(csvdata){
                return csvdata;
                }).then(function (data) {
                    syData = data;
                    var valueList = [];
                    for(var i=0; i<syData.length; i++){
                        valueList.push(syData[i]['Temperature']);
                    }
                    option = {
                        // Make gradient line here
                        visualMap: [{
                            show: false,
                            type: 'continuous',
                            seriesIndex: 0,
                            min: Math.min(...valueList)-1,
                            max: Math.max(...valueList)+1
                        }],
                        tooltip: {
                            trigger: 'axis'
                        },
                        xAxis: [{
                            data: dateList
                        }],
                        yAxis: [{
                            min: Math.min(...valueList)-1,
                            max: Math.max(...valueList)+1
                        }],
                        series: [{
                            type: 'line',
                            showSymbol: false,
                            data: valueList
                        }]
                        };
                    option && myChart.setOption(option);
                });
            </script>
            
    </body>
</html>